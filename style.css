/* =========================
   기본 세팅 & 테마 변수
========================= */
:root{
  --color-primary:#003366;
  --color-primary-600:#0055aa;
  --color-text:#111;
  --color-muted:#666;
  --bg-card:#f9f9f9;
  --border:#ccc;
}

*{ box-sizing:border-box; }

html{ scroll-behavior:smooth; }
@media (prefers-reduced-motion: reduce){
  html{ scroll-behavior:auto; }
}

body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", sans-serif;
  margin:0;
  color:var(--color-text);
  line-height:1.6;
}

/* =========================
   헤더 / 내비
========================= */
header{
  background-color: var(--color-primary);
  color:#fff;
  padding:20px;
  text-align:center;
}

nav{
  background-color: var(--color-primary);
  position: sticky; /* 스크롤 고정 */
  top:0; z-index: 1000;
}

.nav-container{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 15px;
}

.hamburger{
  display:none;
  font-size:24px;
  cursor:pointer;
  color:#fff;
}

.nav-menu{
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-wrap:wrap;
}

.nav-menu > li{ position:relative; }

.nav-menu > li > a{
  color:#fff;
  text-decoration:none;
  display:block;
  padding:15px 20px;
  font-weight:bold;
  outline: none;
}

/* hover/focus 접근성 */
.nav-menu > li > a:hover,
.nav-menu > li > a:focus-visible{
  background-color: var(--color-primary-600);
}

/* 활성 메뉴 표시 */
.nav-menu a.active{
  box-shadow: inset 0 -3px 0 0 #fff;
}

/* 드롭다운 */
.dropdown-menu{
  display:none;
  position:absolute;
  background-color:#fff;
  min-width:220px;
  box-shadow:0 2px 10px rgba(0,0,0,.1);
  z-index:999;
  border-radius:6px;
  overflow:hidden;
  margin-top:2px;
}

.dropdown-menu li a{
  color:var(--color-primary);
  padding:12px 14px;
  display:block;
  text-decoration:none;
}

.dropdown-menu li a:hover,
.dropdown-menu li a:focus-visible{
  background:#eef5ff;
}

/* 데스크톱: hover, 키보드 포커스 둘 다 지원 */
.dropdown:hover .dropdown-menu,
.dropdown:focus-within .dropdown-menu{
  display:block;
}

/* 모바일에서 JS가 .open 붙이면 표시 */
.dropdown.open .dropdown-menu{ display:block; }

/* =========================
   레이아웃 공통
========================= */
section{
  padding:40px 20px;
  max-width: 980px;
  margin:0 auto;
}

h2{ margin-top:0; color:var(--color-primary); }

.card{
  background-color: var(--bg-card);
  border:1px solid var(--border);
  border-radius:8px;
  padding:20px;
  margin-bottom:20px;
  transition: box-shadow .2s ease;
}
.card:hover{ box-shadow:0 6px 16px rgba(0,0,0,.06); }

footer{
  text-align:center;
  background:#f1f1f1;
  padding:20px;
}

/* =========================
   버튼(CTA)
========================= */
.btn{
  display:inline-block;
  border:1px solid #ddd;
  padding:.6rem .9rem;
  border-radius:.4rem;
  text-decoration:none;
  color:var(--color-text);
  transition: transform .05s ease, background .2s ease, color .2s ease;
}
.btn:hover{ background:#fff; }
.btn:active{ transform: translateY(1px); }

.btn.primary{
  background:#111; color:#fff; border-color:#111;
}
.btn.primary:hover{ background:#000; }

/* =========================
   Whiteboard 레이아웃 전용
   (.wb-*)
========================= */
.wb-hero{
  padding: 1.2rem 0 1rem;
  border-bottom:1px solid #eee;
}
.wb-hero h1{ margin:0 0 .4rem; }
.wb-meta{ color:var(--color-muted); font-size:.92rem; }
.wb-excerpt{ margin:.6rem 0 0; font-size:1.05rem; }

.wb-media{ margin:1rem 0 1.2rem; }
.wb-video{
  position:relative; padding-bottom:56.25%; height:0; overflow:hidden; border-radius:8px;
  background:#000;
}
.wb-video iframe{
  position:absolute; top:0; left:0; width:100%; height:100%; border:0;
}

.wb-takeaways{
  background:#fafafa; padding:1rem 1.1rem; border-radius:.5rem; border:1px solid #eee;
}
.wb-takeaways h2{ margin:.2rem 0 .4rem; }
.wb-takeaways ul{ margin:.4rem 0 0 1.1rem; }

.wb-transcript{ margin:1.4rem 0; }
.wb-transcript h2, .wb-transcript h3{ scroll-margin-top: 80px; } /* 앵커 점프 보정 */

.wb-cta{
  display:flex; gap:.6rem; flex-wrap:wrap; margin:2rem 0;
}

/* =========================
   접근성 유틸
========================= */
.sr-only{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* =========================
   모바일 반응형
========================= */
@media (max-width: 768px){
  .nav-container{ flex-direction:column; align-items:flex-start; }

  .hamburger{
    display:block; align-self:flex-end; margin:10px 0;
  }

  .nav-menu{
    flex-direction:column; width:100%; display:none;
  }
  .nav-menu.active{ display:flex; }

  .nav-menu > li{ width:100%; }
  .nav-menu > li > a{
    padding:12px 15px; border-bottom:1px solid #184b80;
  }

  .dropdown-menu{
    position:static; box-shadow:none; background:#f9f9f9; width:100%;
    border-radius:0; border-top:1px solid #e5e5e5; margin-top:0;
  }
  .dropdown-menu li a{ padding-left:30px; }
}



/* 가독성 상승 Guide page typography */
.guide-detail{padding:40px 20px;max-width:980px;margin:0 auto;line-height:1.75}
.guide-detail h1{font-size:1.9rem;margin:0 0 .8rem;color:#003366}
.guide-detail h2{font-size:1.35rem;margin:1.6rem 0 .6rem;color:#003366}
.guide-detail h3{font-size:1.15rem;margin:1.1rem 0 .4rem}
.guide-detail p{margin:.6rem 0 1rem}
.guide-detail ul,.guide-detail ol{margin:.4rem 0 1rem 1.2rem}
.guide-detail li{margin:.25rem 0}
.guide-detail blockquote{border-left:4px solid #e5efff;background:#f9fbff;margin:1rem 0;padding:.6rem 1rem}


/* ...skil-link ... */

.skip-link{
  position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  left:16px; top:10px; width:auto; height:auto; padding:.5rem .75rem;
  background:#fff; color:#000; border:2px solid #000; z-index:10000;
}

/* === 가이드 드롭다운: 뉴스 링크와 톤 매칭 === */
.dropdown-toggle{
  font: inherit;
  font-weight: bold;             /* 뉴스 링크와 동일 굵기 */
  color:#fff;                    /* 헤더 텍스트 색 */
  background: transparent;
  border: 0;
  padding: 15px 20px;            /* 뉴스 링크와 동일 패딩 */
  display: inline-flex;
  align-items: center;
  gap: .35rem;                   /* 텍스트-아이콘 간격 */
  cursor: pointer;
  outline: none;                 /* 포커스 처리는 아래에서 */
  line-height: 1;                /* 링크 높이와 맞춤 */
}

/* hover/focus 시 뉴스 링크와 동일한 배경 강조 */
.dropdown-toggle:hover,
.dropdown-toggle:focus-visible{
  background-color: var(--color-primary-600);
}

/* 케럿 애니메이션: 열리면 뒤집혀 상태 표시 */
.dropdown-toggle .caret{
  transform: translateY(1px) rotate(0deg);
  transition: transform .18s ease;
  opacity: .9;
}
.dropdown.open .dropdown-toggle .caret,
.dropdown-toggle[aria-expanded="true"] .caret{
  transform: translateY(1px) rotate(180deg);
}

/* 키보드 포커스 링(헤더가 어두워서 밝게) */
.dropdown-toggle:focus-visible{
  box-shadow: 0 0 0 2px rgba(255,255,255,.45);
  border-radius: 6px;
}

/* 드롭다운 패널 모양 살짝 개선(선택) — 톤은 기존 유지 */
.dropdown-menu{
  border-radius: 8px;
  overflow: hidden;
}

/* 모바일에선 링크 높이 줄인 만큼 버튼도 살짝 줄여 정렬 */
@media (max-width: 768px){
  .dropdown-toggle{ padding: 12px 15px; }
}

/* 모션 최소화 환경 존중 */
@media (prefers-reduced-motion: reduce){
  .dropdown-toggle .caret{ transition: none; }
}






/* ===== 드롭다운을 헤더 톤으로 통일 (데스크톱) ===== */
.dropdown-menu{
  background: var(--color-primary);        /* 헤더와 동일 배경 */
  border: 1px solid rgba(255,255,255,.12);
  color:#fff;
  border-radius:10px;
  padding:6px;                              /* 내부 여백 */
  margin-top: 8px;                          /* 헤더와 분리감 */
  min-width: 240px;                         /* 살짝 넓게 */
  box-shadow: 0 12px 28px rgba(0,0,0,.25);  /* 네비 아래로 자연스럽게 */
  transform: translateY(-6px);
  opacity: 0;
  transition: opacity .16s ease, transform .16s ease;
}

/* 열릴 때만 보이도록—기존 display:block 트리거 그대로 사용 */
.dropdown:hover .dropdown-menu,
.dropdown:focus-within .dropdown-menu,
.dropdown.open .dropdown-menu{
  opacity: 1;
  transform: translateY(0);
}

/* 링크 톤 통일 */
.dropdown-menu li a{
  color:#fff;                               /* 헤더와 동일 텍스트 */
  padding:10px 12px;
  border-radius:6px;
}

/* 호버/포커스—상단 네비와 동일한 진한 남색 강조 */
.dropdown-menu li a:hover,
.dropdown-menu li a:focus-visible{
  background: var(--color-primary-600);
  outline: none;
}

/* 얇은 구분선(옵션) */
.dropdown-menu hr{
  height:1px; border:0;
  background: rgba(255,255,255,.12);
  margin:6px 4px;
}

/* 작은 케럿(삼각형)로 네비에서 이어지는 느낌(옵션) */
.dropdown-menu::before{
  content:"";
  position:absolute;
  top:-6px; left:20px;
  border-width:0 6px 6px 6px;
  border-style:solid;
  border-color:transparent transparent var(--color-primary) transparent;
  filter: drop-shadow(0 -1px 0 rgba(255,255,255,.12));
}

/* 모바일에서는 기존 밝은 리스트 유지 */
@media (max-width:768px){
  .dropdown-menu{
    background:#f9f9f9;
    color: var(--color-text);
    border: none;
    border-radius:0;
    box-shadow:none;
    padding:0;
    margin-top:0;
    transform:none; opacity:1; /* 접히는/펼치는 건 .open 으로 제어 */
  }
  .dropdown-menu::before{ display:none; }
  .dropdown-menu li a{
    color: var(--color-primary);
    border-radius:0;
  }
}


/* 헤더 톤 드롭다운(데스크톱) — overflow 보이게 바꿔 케럿 표시 */
.dropdown-menu{
  /* ...기존 값들 유지... */
  overflow: visible;            /* ← 이걸로 ::before 케럿 안 잘림 */
  z-index: 1001;                /* ← 레이어 안전빵 */
}

/* 모바일에서도 상단 구분선 유지 */
@media (max-width:768px){
  .dropdown-menu{
    /* ...기존 값들 유지... */
    border-top:1px solid #e5e5e5;  /* ← 다시 넣기 */
  }
}

/* PC 헤더 타이틀 위치 고정 */
@media (min-width: 769px){
  header{
    display:flex;
    align-items:center;        /* 수직 중앙 정렬 */
    justify-content:center;    /* 수평 중앙 정렬 */
    min-height:72px;           /* 고정 높이로 흔들림 방지 */
    padding:0 24px;            /* 좌우 여백만 유지 */
  }
  header h1{
    margin:0;                  /* UA 기본 마진 제거 */
    line-height:1;             /* 줄간격 통일 */
    font-weight:700;           /* 페이지별 굵기 차이 방지(원하는 굵기로) */
  }
  header h1 a{
    color:#fff;
    text-decoration:none;
    display:inline-block;      /* 인라인 요소의 라인박스 차이 제거 */
  }
}

/* PC 버전에서 스크롤바 공간 항상 확보 */
@media (min-width: 769px){
  html {
    overflow-y: scroll; /* 내용이 짧아도 스크롤바 자리 고정 */
  }
}
