/* =========================
   기본 세팅 & 테마 변수
========================= */
:root{
  --color-primary:#003366;
  --color-primary-600:#0055aa;
  --color-text:#111;
  --color-muted:#666;
  --bg-card:#f9f9f9;
  --border:#ccc;
}

*{ box-sizing:border-box; }

html{ scroll-behavior:smooth; }
@media (prefers-reduced-motion: reduce){
  html{ scroll-behavior:auto; }
}

/* PC: 스크롤바 공간 항상 확보(레이아웃 흔들림 방지) */
@media (min-width: 769px){
  html{
    /* 신형 브라우저 */
    scrollbar-gutter: stable;   /* 스크롤 유무와 무관하게 여백 예약 */
    /* 구형/특정 브라우저 대비 */
    overflow-y: scroll;         /* 내용이 짧아도 스크롤바 자리 고정 */
  }
}

body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", sans-serif;
  margin:0;
  color:var(--color-text);
  line-height:1.6;
}

/* =========================
   헤더 / 내비
========================= */
header{
  background-color: var(--color-primary);
  color:#fff;
  padding:20px;
  text-align:center;
}
/* PC: 헤더 타이틀 수직/수평 일관 정렬 */
@media (min-width: 769px){
  header{
    display:flex;
    flex-direction: column;   /* ← 가로(row) → 세로(column) */
    align-items:center;
    justify-content:center;
    min-height:auto;          /* 필요 없으면 제거/조절 */
    padding:20px 24px;        /* 원하던 여백으로 */
    gap:.35rem;               /* h1과 태그라인 사이 간격 */
  }
  header h1{ margin:0; line-height:1; font-weight:700; }
  header .site-tagline{ margin:0; }
}

nav{
  background-color: var(--color-primary);
  position: sticky; /* 스크롤 고정 */
  top:0; z-index: 1000;
}

.nav-container{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 15px;
}

.hamburger{
  display:none;
  font-size:24px;
  cursor:pointer;
  color:#fff;
}

.nav-menu{
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-wrap:wrap;
}

.nav-menu > li{ position:relative; }

.nav-menu > li > a{
  color:#fff;
  text-decoration:none;
  display:block;
  padding:15px 20px;
  font-weight:bold;
  outline: none;
}

/* hover/focus 접근성 */
.nav-menu > li > a:hover,
.nav-menu > li > a:focus-visible{
  background-color: var(--color-primary-600);
}

/* 활성 메뉴 표시 */
.nav-menu a.active{
  box-shadow: inset 0 -3px 0 0 #fff;
}

/* =========================
   드롭다운 (기본)
========================= */
.dropdown-menu{
  display:none;
  position:absolute;
  background-color:#fff;
  min-width:220px;
  box-shadow:0 2px 10px rgba(0,0,0,.1);
  z-index:999;
  border-radius:6px;
  overflow:hidden;
  margin-top:2px;
}

.dropdown-menu li a{
  color:var(--color-primary);
  padding:12px 14px;
  display:block;
  text-decoration:none;
}

.dropdown-menu li a:hover,
.dropdown-menu li a:focus-visible{
  background:#eef5ff;
}

/* 데스크톱: hover, 키보드 포커스 둘 다 지원 */
.dropdown:hover .dropdown-menu,
.dropdown:focus-within .dropdown-menu{
  display:block;
}

/* 모바일에서 JS가 .open 붙이면 표시 */
.dropdown.open .dropdown-menu{ display:block; }

/* =========================
   레이아웃 공통
========================= */
section{
  padding:40px 20px;
  max-width: 980px;
  margin:0 auto;
}

h2{ margin-top:0; color:var(--color-primary); }

.card{
  background-color: var(--bg-card);
  border:1px solid var(--border);
  border-radius:8px;
  padding:20px;
  margin-bottom:20px;
  transition: box-shadow .2s ease;
}
.card:hover{ box-shadow:0 6px 16px rgba(0,0,0,.06); }

footer{
  text-align:center;
  background:#f1f1f1;
  padding:20px;
}

/* =========================
   버튼(CTA)
========================= */
.btn{
  display:inline-block;
  border:1px solid #ddd;
  padding:.6rem .9rem;
  border-radius:.4rem;
  text-decoration:none;
  color:var(--color-text);
  transition: transform .05s ease, background .2s ease, color .2s ease;
}
.btn:hover{ background:#fff; }
.btn:active{ transform: translateY(1px); }

.btn.primary{
  background:#111; color:#fff; border-color:#111;
}
.btn.primary:hover{ background:#000; }

/* =========================
   Whiteboard 레이아웃 전용
   (.wb-*)
========================= */
/* =========================
   Whiteboard 레이아웃 전용
   (.wb-*)
========================= */
.wb-hero{
  padding: 1.2rem 1rem 1rem;  /* 좌우 padding 확보 */
  border-bottom:1px solid #eee;
  max-width: 980px;           /* 너무 넓지 않게 제한 */
  margin: 0 auto;             /* 중앙 정렬 */
}

.wb-hero h1{ 
  margin:0 0 .4rem; 
}

.wb-meta{ 
  color:var(--color-muted); 
  font-size:.92rem; 
}

.wb-excerpt{ 
  margin:.6rem 0 0; 
  font-size:1.05rem; 
}

/* 모바일 추가 여백 조정 */
@media (max-width: 600px){
  .wb-hero{
    padding: 1rem 0.8rem 1rem;
  }
}


/* =========================
   접근성 유틸
========================= */
.sr-only{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* =========================
   모바일 반응형
========================= */
@media (max-width: 768px){
  .nav-container{ flex-direction:column; align-items:flex-start; }

  .hamburger{
    display:block; align-self:flex-end; margin:10px 0;
  }

  .nav-menu{
    flex-direction:column; width:100%; display:none;
  }
  .nav-menu.active{ display:flex; }

  .nav-menu > li{ width:100%; }
  .nav-menu > li > a{
    padding:12px 15px; border-bottom:1px solid #184b80;
  }

  .dropdown-menu{
    position:static; box-shadow:none; background:#f9f9f9; width:100%;
    border-radius:0; border-top:1px solid #e5e5e5; margin-top:0;
    overflow:visible; /* 케럿 대비 (모바일에선 ::before 안 씀) */
  }
  .dropdown-menu li a{ padding-left:30px; }
}

/* 가독성 상승 Guide page typography */
.guide-detail{padding:40px 20px;max-width:980px;margin:0 auto;line-height:1.75}
.guide-detail h1{font-size:1.9rem;margin:0 0 .8rem;color:#003366}
.guide-detail h2{font-size:1.35rem;margin:1.6rem 0 .6rem;color:#003366}
.guide-detail h3{font-size:1.15rem;margin:1.1rem 0 .4rem}
.guide-detail p{margin:.6rem 0 1rem}
.guide-detail ul,.guide-detail ol{margin:.4rem 0 1rem 1.2rem}
.guide-detail li{margin:.25rem 0}
.guide-detail blockquote{border-left:4px solid #e5efff;background:#f9fbff;margin:1rem 0;padding:.6rem 1rem}

/* ...skil-link ... */

.skip-link{
  position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  left:16px; top:10px; width:auto; height:auto; padding:.5rem .75rem;
  background:#fff; color:#000; border:2px solid #000; z-index:10000;
}

/* === 가이드 드롭다운: 뉴스 링크와 톤 매칭 === */
.dropdown-toggle{
  font: inherit;
  font-weight: bold;
  color:#fff;
  background: transparent;
  border: 0;
  padding: 15px 20px;            /* .nav-menu > li > a 와 동일 */
  display: inline-flex;
  align-items: center;
  gap: .35rem;
  cursor: pointer;
  outline: none;
  line-height: 1;
}

/* hover/focus 시 뉴스 링크와 동일한 배경 강조 */
.dropdown-toggle:hover,
.dropdown-toggle:focus-visible{
  background-color: var(--color-primary-600);
}

/* 케럿 애니메이션: 열리면 뒤집혀 상태 표시 */
.dropdown-toggle .caret{
  transform: translateY(1px) rotate(0deg);
  transition: transform .18s ease;
  opacity: .9;
}
.dropdown.open .dropdown-toggle .caret,
.dropdown-toggle[aria-expanded="true"] .caret{
  transform: translateY(1px) rotate(180deg);
}

/* 키보드 포커스 링(헤더가 어두워서 밝게) */
.dropdown-toggle:focus-visible{
  box-shadow: 0 0 0 2px rgba(255,255,255,.45);
  border-radius: 6px;
}

/* =========================
   드롭다운을 헤더 톤으로 통일 (데스크톱)
========================= */
@media (min-width:769px){
  .dropdown-menu{
    background: var(--color-primary);
    border: 1px solid rgba(255,255,255,.12);
    color:#fff;
    border-radius:10px;
    padding:6px;
    margin-top: 8px;
    min-width: 240px;
    box-shadow: 0 12px 28px rgba(0,0,0,.25);
    transform: translateY(-6px);
    opacity: 0;
    transition: opacity .16s ease, transform .16s ease;
    overflow: visible;  /* 케럿 안 잘리게 */
    z-index: 1001;      /* 레이어 안전 */
  }

  /* 열릴 때 보이기 */
  .dropdown:hover .dropdown-menu,
  .dropdown:focus-within .dropdown-menu,
  .dropdown.open .dropdown-menu{
    opacity: 1;
    transform: translateY(0);
  }

  /* 링크 톤 통일 */
  .dropdown-menu li a{
    color:#fff;
    padding:10px 12px;
    border-radius:6px;
  }

  /* 호버/포커스 */
  .dropdown-menu li a:hover,
  .dropdown-menu li a:focus-visible{
    background: var(--color-primary-600);
    outline: none;
  }

  /* 네비와 연결되는 삼각형(옵션) */
  .dropdown-menu::before{
    content:"";
    position:absolute;
    top:-6px; left:20px;
    border-width:0 6px 6px 6px;
    border-style:solid;
    border-color:transparent transparent var(--color-primary) transparent;
    filter: drop-shadow(0 -1px 0 rgba(255,255,255,.12));
  }
}

/* 모션 최소화 환경 존중 */
@media (prefers-reduced-motion: reduce){
  .dropdown-toggle .caret{ transition: none; }
}


/* 공통: 데스크톱 높이/정렬 완전 동일화 */
.nav-menu > li > a,
.dropdown-toggle{
  display: inline-flex;        /* 둘 다 인라인-플렉스 */
  align-items: center;         /* 수직 가운데 */
  gap: .35rem;                 /* 텍스트-케럿 간격 */
  padding: 15px 20px;          /* 같은 패딩 */
  line-height: 1;              /* 같은 라인하이트 */
  height: 48px;                /* 고정 높이(원하면 생략 가능) */
  box-sizing: border-box;
}

/* 케럿이 높이에 영향 안 주도록 */
.dropdown-toggle .caret{
  flex: 0 0 auto;
}

/* 모바일도 규칙 통일(패딩/보더 동일) */
@media (max-width: 768px){
  .nav-menu > li > a,
  .dropdown-toggle{
    width: 100%;
    padding: 12px 15px;
    line-height: 1.2;
    border-bottom: 1px solid #184b80;
    justify-content: space-between; /* 텍스트-케럿 양끝 배치(선택) */
  }
}

